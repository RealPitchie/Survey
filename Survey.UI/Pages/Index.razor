@page "/"
@using Survey.Domain.Models
@using Survey.Persistence
@using WebComponents

@inject SurveyRepository Repo


<div class="container">
    @if (_items.Count > 0)
    {
        <div class="row"> 
            @foreach (var survey in _items)
            {
                <div class="col-md-4" style="min-width: 200px; border: none">
                    <MudCard  Elevation="3" Style="margin: 15px;border-radius: 10px;">
                        <MudCardHeader>
                            <CustomCardTitle Text="@survey.Name" />
                        </MudCardHeader>
                        <MudDivider Light="true"/>
                        <MudCardContent Style="overflow: scroll">
                            <div style="text-align: right">
                                <span style="color: gray; font-weight: bold">Автор: @survey.Author</span>
                            </div>
                            <br/>
                            <Description Text="@survey.Description"/>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary">Пройти опрос</MudButton>
                        </MudCardActions>
                    </MudCard>
                </div>
                

            }
        </div>
    }
</div>

@code{ 
    List<Survey> _items = new();
    protected override async Task OnInitializedAsync()
    {
        _items = await Repo.GetAllSurveysAsync();
    }
 

}